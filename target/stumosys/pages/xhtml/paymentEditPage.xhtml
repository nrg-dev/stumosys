<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	template="../../pages/xhtml/home.xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" xmlns:b="http://bootsfaces.net/ui"
	xmlns:a4j="http://richfaces.org/a4j">
	<link type="text/css" rel="stylesheet" href="../../css/myStyles.css"></link>
	<link type="text/css" rel="stylesheet"
		href="../../css/customStyleSheet.css"></link>

	<ui:define name="content">
	<f:loadBundle var="pathBundle" basename="com.sms.paths"></f:loadBundle>
		<p:panel header="Payment Edit" toggleable="false" id="feeseditBlk"
			style="min-height:100%;">
			<h:message for="feeseditBlk" style="color:red;font-size:11px"></h:message>
			<h:form>
			<p:outputPanel rendered="#{sessionScope.schoolID !=pathBundle['SCMS.SCHOOLID']}">
				<table width="100%">
					<tr>
						<td width="25%" height="50px"><h:outputLabel for="payClass"
								value="Class &amp; Section " styleClass="labelTxt"></h:outputLabel><span
							style="color: red">*</span></td>
						<td><h:inputText
							value="#{feesPaymentViewMB.paymentDatabean.payClassSection}" id="payClass"
							styleClass="inputTxt" tabindex="1"
							maxlength="25" readonly="true"></h:inputText> <br></br>
						<h:message for="payClass" style="color:red;font-size:10px"></h:message><br></br>
						</td>
					</tr>
					<tr>
						<td width="25%" height="50px"><h:outputLabel
								for="payStudentID" value="Student Name" styleClass="labelTxt"></h:outputLabel><span
							style="color: red">*</span></td>
						<td><h:inputText
							value="#{feesPaymentViewMB.paymentDatabean.paymentStudID}" id="payStudentID"
							styleClass="inputTxt" tabindex="1"
							maxlength="25"  readonly="true"></h:inputText> <br></br>
						<h:message for="payStudentID" style="color:red;font-size:10px"></h:message><br></br>
						</td>
					</tr>
					<tr>
						<td width="25%" height="50px"><h:outputLabel
								for="payexamFees" value="Exam Fees " styleClass="labelTxt"></h:outputLabel><span
							style="color: red">*</span></td>
						<td width="75%" height="50px"><h:inputText
							value="#{feesPaymentViewMB.paymentDatabean.examFees}" id="payexamFees"
							styleClass="inputTxt" tabindex="1"
							maxlength="10"></h:inputText> <br></br> <h:message for="payexamFees"
							style="color:red;font-size:10px"></h:message> <br></br></td>
				</tr>
				<tr>
						<td width="25%" height="50px"><h:outputLabel
								for="paytuiFees" value="Tuition Fees " styleClass="labelTxt"></h:outputLabel><span
							style="color: red">*</span></td>
						<td width="75%" height="50px"><h:inputText
							value="#{feesPaymentViewMB.paymentDatabean.tuitionFees}" id="paytuiFees"
							styleClass="inputTxt" tabindex="1"
							maxlength="10"></h:inputText> <br></br> <h:message for="paytuiFees"
							style="color:red;font-size:10px"></h:message> <br></br></td>
				</tr>
				<tr>
						<td width="25%" height="50px"><h:outputLabel
								for="paytransFees" value="Transport Fees " styleClass="labelTxt"></h:outputLabel><span
							style="color: red">*</span></td>
						<td width="75%" height="50px"><h:inputText
							value="#{feesPaymentViewMB.paymentDatabean.transportFees}" id="paytransFees"
							styleClass="inputTxt" tabindex="1"
							maxlength="10"></h:inputText> <br></br> <h:message for="paytransFees"
							style="color:red;font-size:10px"></h:message> <br></br></td>
				</tr>
				<tr align="center">
					<td colspan="2"><br></br> <p:commandButton value="Update"
							ajax="false" icon="fa fa-database" action="#{feesPaymentViewMB.feesupdatepage}">
							</p:commandButton> <p:commandButton
							value="Cancel " ajax="false" action="#{feesPaymentViewMB.feesViewCall}"
							icon="fa fa-arrow-circle-o-left"></p:commandButton></td>
				</tr>
				</table>
				</p:outputPanel>
				<p:outputPanel rendered="#{sessionScope.schoolID ==pathBundle['SCMS.SCHOOLID']}">
   		<p:panelGrid columns="4" styleClass="ui-panelgrid-blank" style="width:100%;">
   		<h:outputLabel value="Month" styleClass="labelTxt" for="month"></h:outputLabel>
   		<h:inputText styleClass="inputTxt" id="month" value="#{feesPaymentViewMB.paymentDatabean.month}" readonly="true">
             <p:ajax process="@this" update="month"></p:ajax>        
   		</h:inputText>
   		<h:outputLabel styleClass="labelTxt" value="Class" for="classname"></h:outputLabel>
   		<h:inputText value="#{feesPaymentViewMB.paymentDatabean.payClassSection}" id="classname" styleClass="inputTxt" readonly="true">
        <p:ajax  update="classname" process="@this"></p:ajax>
		</h:inputText>
		<h:outputLabel></h:outputLabel><h:message for="month" style="color:red;font-size:11px"></h:message>
		<h:outputLabel></h:outputLabel><h:message for="classname" style="color:red;font-size:11px"></h:message>
		<h:outputLabel value="Student Name " styleClass="labelTxt" for="studentname"></h:outputLabel>
		<h:inputText value="#{feesPaymentViewMB.paymentDatabean.paymentStudID}" id="studentname" styleClass="inputTxt" readonly="true">
		<p:ajax process="@this" update="studentname"></p:ajax>
		</h:inputText>
		<h:outputLabel value="Transport fees" styleClass="labelTxt" for="transportfess"></h:outputLabel>
		<h:inputText id="transportfess" styleClass="inputTxt" value="#{feesPaymentViewMB.paymentDatabean.transportFees}">
		<p:ajax process="@this" update="transportfess"></p:ajax></h:inputText>
		<h:outputLabel></h:outputLabel><h:message for="studentname" style="color:red;font-size:11px"></h:message>
		<h:outputLabel></h:outputLabel><h:message for="transportfess"></h:message>
		<h:outputLabel value="Tuition fees" styleClass="labelTxt" for="tuitionfees"></h:outputLabel>
		<h:inputText id="tuitionfees" styleClass="inputTxt" value="#{feesPaymentViewMB.paymentDatabean.tuitionFees}">
		<p:ajax update="tuitionfees" process="@this"></p:ajax></h:inputText>
		<h:outputLabel value="Special fees" styleClass="labelTxt" for="specialfess" rendered="#{feesPaymentViewMB.paymentDatabean.month=='June'}"></h:outputLabel>
		<h:inputText styleClass="inputTxt" id="specialfess" rendered="#{feesPaymentViewMB.paymentDatabean.month=='June'}" value="#{feesPaymentViewMB.paymentDatabean.specialFees}">
		<p:ajax update="specialfess" process="@this"></p:ajax>
		</h:inputText>
		<h:outputLabel></h:outputLabel><h:message for="tuitionfees"></h:message>
		<h:outputLabel></h:outputLabel><h:message for="specialfess"></h:message>
		<h:outputLabel value="ECA fees" styleClass="labelTxt" for="ecafees" rendered="#{feesPaymentViewMB.paymentDatabean.month=='June'}"></h:outputLabel>
		<h:inputText id="ecafees" styleClass="inputTxt" rendered="#{feesPaymentViewMB.paymentDatabean.month=='June'}" value="#{feesPaymentViewMB.paymentDatabean.ecaFees}">
		<p:ajax update="ecafees" process="@this"></p:ajax></h:inputText>
		<h:outputLabel value="Computer and Lab fees" styleClass="labelTxt" for="labfees" rendered="#{feesPaymentViewMB.paymentDatabean.month=='June'}"></h:outputLabel>
		<h:inputText id="labfees" styleClass="inputTxt" rendered="#{feesPaymentViewMB.paymentDatabean.month=='June'}" value="#{feesPaymentViewMB.paymentDatabean.labFees}">
		<p:ajax update="labfees" process="@this"></p:ajax></h:inputText>
		<h:outputLabel></h:outputLabel><h:message for="ecafees"></h:message>
		<h:outputLabel></h:outputLabel><h:message for="labfees"></h:message>
		<h:outputLabel value="Registeration and Admission fees" styleClass="labelTxt" for="admissionfees" rendered="#{feesPaymentViewMB.paymentDatabean.month=='June'}"></h:outputLabel>
		<h:inputText id="admissionfees" styleClass="inputTxt" rendered="#{feesPaymentViewMB.paymentDatabean.month=='June'}" value="#{feesPaymentViewMB.paymentDatabean.admissionFees}">
		<p:ajax update="admissionfees" process="@this"></p:ajax></h:inputText>
   		</p:panelGrid>
   		<br></br>
   		<center>
   		<p:commandButton value="Update" action="#{feesPaymentViewMB.updatePayment}" update="XX" process="@this" onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()"></p:commandButton>
   		<p:commandButton value="Cancel" ajax="false" action="#{feesPaymentViewMB.feesViewCall}"></p:commandButton>
   		</center>
   	</p:outputPanel>
				<p:dialog header="Confirmation Box" appendTo="@(body)"
			closable="false" widgetVar="paymentEditDialog" modal="true" width="40%"
			height="40%" resizable="false" visible="#{feesPaymentViewMB.editFlag}"
			dynamic="true">
			<h:form>
				<center>
					<h:outputText value="Fees Updated Successfully"></h:outputText>
					<br></br>
					<p:commandButton immediate="true" action="#{feesPaymentViewMB.feesViewCall}"
						process="@this" value="OK" update=":XX"
						oncomplete="PF('paymentEditDialog').hide()"></p:commandButton>
				</center>
			</h:form>
		</p:dialog>
			</h:form>
		</p:panel>
		<p:blockUI widgetVar="feesUpdateblockUI" block="feeseditBlk">

   <h:panelGrid id="blockUIContent" columns="2"
    style="table-layout:auto;">
    <p:graphicImage value="../../images/ajax-loader1.gif" />
    <h:outputText value="Please wait, data is being processed..."
     style="white-space: nowrap;" />
   </h:panelGrid>
  </p:blockUI>
  <p:remoteCommand action="#{feesPaymentViewMB.updatePayment}"
   name="feesUpdateRemote"></p:remoteCommand>
		
	</ui:define>
</ui:composition>