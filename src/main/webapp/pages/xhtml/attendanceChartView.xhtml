<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	template="../../pages/xhtml/home.xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:b="http://bootsfaces.net/ui" xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">
	<link type="text/css" rel="stylesheet" href="../../css/myStyles.css"></link>
	<link type="text/css" rel="stylesheet"
		href="../../css/customStyleSheet.css"></link>
	<ui:define name="content">

		<p:panel look="primary" header="Attendance Chart" toggleable="false"
			style="min-height:100%;">
			
			<h:form>
				<table style="width: 100%;">
					<tr>

						<td width="25%" valign="top"><h:outputLabel
								value="Search from " styleClass="labelTxt"></h:outputLabel> <h:outputLabel
								value=" *" style="color:red;"></h:outputLabel></td>
						<td width="75%" valign="top"><p:selectOneRadio id="serach"
								value="#{attendanceChartMB.attendanceDataBean.classStudent}"
								valueChangeListener="#{attendanceChartMB.serachby}" >
								<f:selectItem itemLabel="Class" itemValue="Class"></f:selectItem>

								<f:selectItem itemLabel="Student" itemValue="Student"></f:selectItem>
									<p:ajax immediate="true" process="@this" event="valueChange"
									update=":XX"></p:ajax>
							</p:selectOneRadio> <h:message for="serach" style="color:red;font-size:10px;"></h:message>
							<br /></td>
					</tr>
					<tr>

						<td width="25%" valign="top"><h:outputLabel
								value="Class Name" styleClass="labelTxt"
								rendered="#{attendanceChartMB.flag3}"></h:outputLabel> <h:outputLabel
								value=" *" style="color:red;"
								rendered="#{attendanceChartMB.flag3}"></h:outputLabel></td>
						<td width="75%" valign="top"><h:selectOneMenu
								value="#{attendanceChartMB.attendanceDataBean.classname}"
								rendered="#{attendanceChartMB.flag3}" id="classID"
								valueChangeListener="#{attendanceChartMB.classSearch}"
								styleClass="selecttext_ui1">
								<f:selectItem itemLabel="Select Class"></f:selectItem>
								<f:selectItems value="#{attendanceChartMB.classList}"></f:selectItems>
								<p:ajax immediate="true" process="@this" event="valueChange"
									update=":XX"></p:ajax>
							</h:selectOneMenu> <br></br> <h:message for="classID"
								style="color:red;font-size:10px;"></h:message></td>
					</tr>
					<tr>

						<td width="25%" valign="top"><br /> <h:outputLabel
								value="Student Name" styleClass="labelTxt"
								rendered="#{attendanceChartMB.flag2}"></h:outputLabel> <h:outputLabel
								value=" *" style="color:red;"
								rendered="#{attendanceChartMB.flag2}"></h:outputLabel></td>
						<td width="75%" valign="top"><br /><h:selectOneMenu
								value="#{attendanceChartMB.attendanceDataBean.studentID}"
								rendered="#{attendanceChartMB.flag2}" id="studentID"
								styleClass="selecttext_ui1" valueChangeListener="#{attendanceChartMB.studentSelect}">
								<f:selectItem itemLabel="Select Student Name"></f:selectItem>
								<f:selectItems value="#{attendanceChartMB.studentList}"></f:selectItems>
								<p:ajax immediate="true" process="@this" event="valueChange"
									update=":XX"></p:ajax>
							</h:selectOneMenu> <br></br> <h:message for="studentID"
								style="color:red;font-size:10px;"></h:message></td>
					</tr>
					<tr>

						<td width="25%" valign="top"><br /><h:outputLabel
								value="Chart from " styleClass="labelTxt"></h:outputLabel> <h:outputLabel
								value=" *" style="color:red;"></h:outputLabel></td>
						<td width="75%" valign="top"><br /><p:selectOneRadio id="monthyearid"
								value="#{attendanceChartMB.attendanceDataBean.monthyear}" 
								 valueChangeListener="#{attendanceChartMB.monthSelect}">
								<f:selectItem itemLabel="Month" itemValue="Month"></f:selectItem>
								<f:selectItem itemLabel="Year" itemValue="Year"></f:selectItem>
								<p:ajax immediate="true" process="@this" event="valueChange"
									update=":XX"></p:ajax>
							</p:selectOneRadio><br></br> <h:message for="monthyearid"
								style="color:red;font-size:10px;"></h:message></td>
					</tr>
					<tr align="center">
					<td colspan="2"><br></br> <p:commandButton
							value="Generate Chart" ajax="false"
							action="#{attendanceChartMB.studentChart}"></p:commandButton></td>
				</tr>
				</table>

				<center>
					<br />
					<p:panel rendered="#{attendanceChartMB.chartFlag}">
					<p:chart type="bar" model="#{attendanceChartMB.barchart}"
						responsive="true" style="width:100%;height:440;color:blue"
						rendered="#{attendanceChartMB.flag}" /></p:panel>
				</center>
			</h:form>
		</p:panel>

	</ui:define>
</ui:composition>